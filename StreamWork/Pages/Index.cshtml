@page
@model StreamWork.Pages.IndexModel
@{
    Layout = "Home/_LayoutHome";
    ViewData["title"] = "Home";
}
@Html.AntiForgeryToken()

<script>$(window).on('popstate', function () {
        location.reload(true);
    });</script>

<div class="container-fluid pl-sm-0 pr-sm-0 pl-md-0 pr-md-0 pl-0 pr-0 container-padding" style="overflow-x:hidden !important">
    <div class="container custom-home-container pl-sm-0 pr-sm-0 pl-md-0 pr-md-0 pl-0 pr-0">
        <div id="blob-card" class="card blob-background-banner-1">
            <div class="card-body">
                <div class="banner-container">
                    <p class="form-header header line-height d-block mb-0">End your homework <span class="d-block">procrastination TONIGHT!</span></p>
                    <p class="d-lg-block d-md-block d-sm-block d-none mt-4 mb-0">StreamWork is an academic platform where hundreds of students <br />  come together to live-stream their studies, tutor their friends, <br />  and learn from A+ classmates all for free.</p>
                    <p class="d-lg-none d-md-none d-sm-none d-block mt-4 mb-0">StreamWork is an academic platform where  hundreds of students come together to live-stream their studies, tutor their friends, and learn from A+ classmates  all for free.</p>
                    <div class="d-flex align-items-middle justify-content-start">
                        <form id="search-form" class="p-2 mt-4 border rounded custom-form drop-shadow w-100" onkeyup="SearchStreams(event)" onsubmit="SearchStreams(event)">
                            <div class="d-flex">
                                <input class="mt-1 ml-2" type="image" src="~/images/GenericAssets/Search.svg" width="30" height="40" />
                                <input id="searchQuery" class="form-control-lg mainLoginInput mt-1" type="search" placeholder="What Subject is your homework about?" style="border: none; font-size:14px;">
                            </div>
                        </form>
                    </div>
                </div>
                <img class="d-lg-none d-md-block d-sm-block d-block graphic" src="~/images/HomeAssets/Graphic.svg" />
                <div style="position:relative;">
                    <img class="d-lg-block d-md-none d-sm-none d-none graphic-lg" src="~/images/HomeAssets/Graphic.svg" />
                </div>
            </div>
        </div>

        <div class="card border-bottom border-top-0 mt-4">
            <div class="row">
                <div class="col-lg-2 border-bottom">
                    <img src="@Model.FeaturedTutor.ProfilePicture" class="rounded d-block mr-auto ml-auto featured-profile-image" />
                    <p class="form-header text-center mt-3 mb-0 ml-3 mr-3" style="font-size:18px">@Model.FeaturedTutor.Name.Replace('|', ' ')</p>
                    <p class="form-sub-header text-center mb-0 ml-3 mr-3" style="font-size:12px">@Model.FeaturedTutor.ProfileCaption</p>
                    <button class="streamWork-primary d-block mr-auto ml-auto mt-3 mb-2 w-75" onclick="window.location.href = '/Profiles/Tutor/@Model.FeaturedTutor.Username'">Profile</button>
                    @if (Model.FeaturedArchivedVideo == null)
                    {
                        <button class="streamWork-secondary d-block mr-auto ml-auto w-75 mb-3" onclick="window.location.href ='/Stream/Live/@Model.FeaturedTutor.Username'">Watch</button>
                    }
                    else
                    {
                        <button class="streamWork-secondary d-block mr-auto ml-auto w-75 mb-3" onclick="window.location.href = '/Stream/Archive/@Model.FeaturedArchivedVideo.StreamID/32169'">Watch</button>
                    }
                </div>
                <div class="col-lg-6 col-md-12 col-sm-12 p-lg-0 pl-md-3 pr-md-3 pt-md-3 pt-3">
                    <div class="embed-responsive embed-responsive-16by9">
                        @if (Model.FeaturedArchivedVideo == null)
                        {
                            <iframe class="border-0" src="https://c.streamhoster.com/embed/media/WxsdDM/mAe0epZsixC/@Model.FeaturedChannel.ChannelKey.Split('|')[0]"></iframe>
                        }
                        else
                        {
                            <iframe class="border-0" src="https://c.streamhoster.com/embed/media/WxsdDM/mAe0epZsixC/@Model.FeaturedArchivedVideo.StreamID"></iframe>
                        }
                    </div>
                    @if (Model.FeaturedArchivedVideo == null)
                    {
                        <div class="card border-bottom border-right border-top-0 border-left rounded-0">
                            <div class="card-body m-1 p-1">
                                <img class="p-3 featured-subject-icon" align="left" src="@Model.FeaturedChannel.StreamSubjectIcon" />
                                <div class="m-3" id="StreamInfo">
                                    <h3 class="roboto-slab streamWork-green">@Model.FeaturedChannel.StreamTitle<span></span></h3>
                                    <p class="mb-1" style="padding-left:105px">@Model.FeaturedChannel.StreamDescription</p>
                                    <p style="font-size:12px; padding-left:105px">Tutoring @Model.FeaturedChannel.StreamSubject</p>
                                </div>
                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="card border-bottom border-right-0 border-top-0 border-left-0 rounded-0">
                            <div class="card-body mt-1 mb-1 mr-1 pt-1 pb-1 pr-1 ml-0 pl-0">
                                <img class="pt-3 pb-3 pr-3 featured-subject-icon" align="left" src="@Model.FeaturedArchivedVideo.StreamSubjectIcon" />
                                <div class="m-3" id="StreamInfo">
                                    <h3 class="roboto-slab streamWork-green">@Model.FeaturedArchivedVideo.StreamTitle<span></span></h3>
                                    <p class="mb-1" style="padding-left:90px">@Model.FeaturedArchivedVideo.StreamDescription</p>
                                    <p style="font-size:12px; padding-left:95px">Tutoring @Model.FeaturedArchivedVideo.StreamSubject</p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="col-lg-4 pl-lg-0 pl-md-3 pl-3">
                    @if (Model.FeaturedArchivedVideo == null)
                    {
                        <iframe class="border-bottom border-right-0 border-top-0 border-left-0 w-100 h-100" style="min-height:500px" src="/Chat/Live/@Model.FeaturedTutor.Username"></iframe>
                    }
                    else
                    {
                        <iframe class="border-bottom border-right-0 border-top-0 border-left-0 w-100 h-100" style="min-height:500px" src="/Chat/Archive/@Model.FeaturedArchivedVideo.Id"></iframe>
                    }
                </div>
                <div class="col-lg-12">
                    <div id="home-carousel-lg-md" class="carousel slide d-lg-block d-md-block d-sm-none d-none" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="row p-3">
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[0])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[1])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[2])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[3])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[4])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[5])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[6])
                                    </div>
                                    <div class="col-lg-3 col-md-3 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[7])
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="d-inline-block p-3" style="color:#004643" href="#home-carousel-lg-md" data-slide="prev">Previous</a>
                        <a class="d-inline-block float-right p-3" style="color:#004643" href="#home-carousel-lg-md" data-slide="next">Next</a>
                    </div>

                    <div id="home-carousel-sm" class="carousel slide d-lg-none d-md-none d-sm-none d-none d-custom-sm-block" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="row p-3">
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[0])
                                    </div>
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[1])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[2])
                                    </div>
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[3])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[4])
                                    </div>
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[5])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[6])
                                    </div>
                                    <div class="col-sm-6 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[7])
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="d-inline-block p-3" style="color:#004643" href="#home-carousel-sm" data-slide="prev">Previous</a>
                        <a class="d-inline-block float-right p-3" style="color:#004643" href="#home-carousel-sm" data-slide="next">Next</a>
                    </div>

                    <div id="home-carousel-xs" class="carousel slide d-lg-none d-md-none d-md-none d-sm-none d-none d-custom-block" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[0])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[1])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[2])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[3])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[4])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[5])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[6])
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item">
                                <div class="row p-3">
                                    <div class="col-12 mt-3 mb-3 subject-card">
                                        @await Html.PartialAsync("Partials/Stream/VideoAppearance", @Model.ArchivedVideos[7])
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="d-inline-block p-3" style="color:#004643" href="#home-carousel-xs" data-slide="prev">Previous</a>
                        <a class="d-inline-block float-right p-3" style="color:#004643" href="#home-carousel-xs" data-slide="next">Next</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="blob-card-2" class="card mt-4 blob-background-banner-2">
            <div class="card-body">
                <div class="banner2-container">
                    <p class="form-header line-height header mt-4 mb-0 d-lg-block d-md-block d-sm-none d-none">Tutor, study, and learn <br />  with students from over <br /> 30 universities nationwide!</p>
                    <p class="form-header line-height header mt-4 mb-0 d-lg-none d-md-none d-sm-block d-block">Tutor, study, and learn with students from over 30 universities nationwide!</p>
                    <p class="d-lg-block d-md-none d-sm-none d-none mt-4 mb-4">By providing 24/7 live, interactive homework help, students looking to study alongside <br /> an A-grade student have the ability to do so on StreamWork. We provide accessibility <br /> to both the academically proficient and struggling students to learn collaboratively online</p>
                    <p class="d-lg-none d-md-block d-sm-block d-block mt-4 mb-4">By providing 24/7 live, interactive homework help, students looking to study alongside an A-grade student have the ability to do so on StreamWork. We provide accessibility to both the academically proficient and struggling students to learn collaboratively online</p>
                    <div class="row">
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto asu-logo" src="/images/CollegeAssets/ASULogo.svg" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto atm-logo" src="/images/CollegeAssets/ATMLogo.svg" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto stanford-logo" src="/images/CollegeAssets/StanfordLogo.svg" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto brown-logo" src="/images/CollegeAssets/BrownLogo.svg" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto ucsd-logo" src="/images/CollegeAssets/UCSDLogo.svg" />
                            </div>
                        </div>
                        <div class="col-lg-2 col-4 mb-3">
                            <div class="card drop-shadow">
                                <img class="p-2 d-block mr-auto ml-auto uw-logo" src="/images/CollegeAssets/UWLogo.svg" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card border-bottom border-top-0 mt-4">
            <div class="card-body">
                <div style="padding-top:50px; padding-bottom:50px; padding-left:25px; padding-right:25px">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="header roboto-slab" style="color:black">What is StreamWork?</div>
                            <p class="mt-3">Just like a physical tutoring center, we help students understand their coursework by teaching helpful methods and reviewing similar problems. StreamWork is dedicated to academic integrity and does not tolerate cheating in any form.</p>
                            <button class="streamWork-teal mt-3 mb-3">Learn More</button>
                        </div>
                        <div class="col-lg-8">
                            <video class="w-100" poster="/images/GenericAssets/StreamWorkAdPoster.png" controls>
                                <source src="StreamWorkAdVideo.mp4" type="video/mp4">
                            </video>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>
@await Html.PartialAsync("Partials/Home/Footer")

@await Html.PartialAsync("Partials/Modals/SignIn-SignUpModal")
@await Html.PartialAsync("Partials/Notification/PushNotifications")

<script>function ResizeBackground() {
        $(document).ready(function () {
            ResizeAlgo()
        })

        $(window).resize(function () {
            ResizeAlgo()
        })
    }

    function ResizeAlgo() {
        var windowWidth = 1680;
        var viewWidth = 155;

        var currentWindowWidth = $(window).width();
        var newWindowWidth = (currentWindowWidth * viewWidth) / windowWidth

        var diff = viewWidth - newWindowWidth;
        var newWW = viewWidth + (diff)

        $('#blob-card').css('background-position-x', '40%')

        if (newWW > 270) {
            $('#blob-card').css('background-position-x', '25%')
            newWW = 450;
        }
        else if (newWW > 250) {
            $('#blob-card').css('background-position-x', '25%')
            newWW = 400;
        }
        else if (newWW > 215) {
            $('#blob-card').css('background-position-x', '25%')
            newWW = 370;
        }
        else if (newWW > 200) {
            $('#blob-card').css('background-position-x', '25%')
            newWW = 310;
        }
        else if (newWW < 100) {
            newWW = 105;
        }

        $('#blob-card').css('background-size', newWW + 'vw')
        $('#blob-card-2').css('background-size', newWW + 'vw')
    }
    ResizeBackground()</script>
