<div id="register-stream-modal" class="custom-modal">
    <div class="custom-modal-content">
        <h5 class="form-header" style="padding-left:20px; padding-top:10px; font-size:16px;">Stream Information</h5>
        <div class="slider">
            <div class="slider-object" style="width:160px"></div>
        </div>
        <div class="row">
            <div class="col-12">
                <form id="register-stream-form" class="pt-4 pb-4 pl-5 pr-5">
                    <div id="tutor-stream-error-notification" class="alert notification-warning" style="padding-left:25px" role="alert">
                        <b>Are you sure you want to delete this stream?</b> This is a irreversible action.
                    </div>
                    <script>$('#tutor-stream-error-notification').hide()</script>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-12 col-12 mt-2">
                                <label class="form-header">Stream Title</label>
                                @{var streamTitle = Model.ScheduledStream != null ? Model.ScheduledStream.StreamTitle : "";}
                                <input id="stream-title" class="form-control form-input mb-2 border rounded-0" type="text" placeholder="ex: Calculus 2: Integrals" value="@streamTitle" required>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-12 col-12 mt-2">
                                <label class="form-header">Stream Subject</label>
                                @{var streamSubject = Model.ScheduledStream != null ? Model.ScheduledStream.StreamSubject : "";}
                                <select id="stream-subject" class="form-control form-input border rounded-0" asp-for="@streamSubject" required>
                                    <option value="">-Select-Subject-</option>
                                    <option value="Mathematics">Mathematics</option>
                                    <option value="Science">Science</option>
                                    <option value="Engineering">Engineering</option>
                                    <option value="Business">Business</option>
                                    <option value="Law">Law</option>
                                    <option value="Art">Art</option>
                                    <option value="Humanities">Humanities</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="col-12 pt-3">
                                @{var streamDescription = Model.ScheduledStream != null ? Model.ScheduledStream.StreamDescription : "";}
                                <label class="form-header">Stream Description</label>
                                <textarea id="stream-description" class="form-control form-textarea border rounded-0" type="text" placeholder="ex: Today we are going to be learning about how to do integrals using U-Substitution" required>@streamDescription</textarea>
                            </div>
                            <div class="col-lg-5 col-md-12 col-sm-12 col-12 pt-3">
                                <label class="form-header">Stream Thumbnail</label>
                                <img id="preview-stream-thumbnail" src="~/images/MathDefault.png" class="mt-1" style="width:100%; border-radius:10px">
                                <input id="upload-stream-thumbnail" type="file" class="d-none" value="~/images/MathDefault.png" onchange="ReadImageUrl(this,'preview-stream-thumbnail');">
                                <p id="upload-stream-thumbnail-button" class="pt-2 mb-0" style="cursor:pointer; font-size:12px; color:#004643">Upload an Image</p>
                                <p class="mb-0" style="font-size:10px;">Upload must be either in jpg or png formats and less than 1 MB</p>
                                <script>$("#upload-stream-thumbnail-button").click(function (e) {
                                        e.preventDefault()
                                        $("input[id='upload-stream-thumbnail']").click();
                                    })</script>
                            </div>
                            <div class="col-lg-7 col-md-12 col-sm-12 col-12">
                                <label class="form-header mt-3">Fill From Calendar</label>
                                <p id="schedule-fill-clear" class="float-right mt-3 mb-0 roboto pointer streamWork-green" style="display:none" onclick="ClearFill()">Clear</p>
                                <ul class="pl-0" style="list-style:none; max-height:250px !important; overflow-y:scroll">
                                    @if (Model.Schedule.Count > 0)
                                    {
                                        @foreach (var task in Model.Schedule)
                                        {
                                            <li class="pointer" onclick="FillFromSchedule('@task.Id')">
                                                <div id="schedule-task-@task.Id" class="card schedule-task" style="border-style:none">
                                                    <div class="card-body">
                                                        <input type="hidden" id="schedule-date-@task.Id" value="@task.Date" />
                                                        <div class="d-inline-flex">
                                                            <img class="rounded m-1 schedule-image" src="@task.SubjectThumbnail" />
                                                            <div class="text-center m-1 schedule-image schedule-border">
                                                                <p id="schedule-month-@task.Id" class="form-header schedule-month">@task.Date.ToString("MMM")</p>
                                                            </div>
                                                            <div class="text-center m-1 schedule-image schedule-border">
                                                                <p id="schedule-day-@task.Id" class="form-header schedule-day">@task.Date.Day</p>
                                                                <p id="schedule-dow-@task.Id" class="form-header schedule-dow">@task.Date.ToString("ddd")</p>
                                                            </div>
                                                            <div class="m-1" style="height:75px;">
                                                                <p id="schedule-stream-title-@task.Id" class="form-header m-0">@task.StreamTitle</p>
                                                                <p id="schedule-stream-subject-@task.Id" class="mt-1 mb-0" style="font-size:10px">@task.StreamSubject</p>
                                                                <input id="schedule-stream-description-@task.Id" type="hidden" value="@task.StreamDescription">
                                                                <p class="schedule-time">@task.TimeStart - @task.TimeStop [@task.TimeZone.ToString()]</p>
                                                                <input type="hidden" id="schedule-time-start-@task.Id" value="@task.TimeStart" />
                                                                <input type="hidden" id="schedule-time-stop-@task.Id" value="@task.TimeStop" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>

                                        }
                                    }
                                    else
                                    {
                                        <p class="form-sub-header" style="font-size:16px">No streams scheduled at the moment.</p>
                                    }
                                </ul>
                                @if (Model.ScheduledStream != null)
                                {
                                    <script>FillFromSchedule('@Model.ScheduledStream.Id')</script>
                                }
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <button id="GoLive" class="btn border-0 rounded-0 p-3 w-100" style="background-color:#004643; color:white" onclick="IsLive('@Model.UserChannel.ChannelKey')">Go Live!</button>
    </div>
</div>
