@model StreamWork.ViewModels.StreamPlayBackPageViewModel
@{ViewData["Title"] = "StreamPlaybackPage";}

<script src="~/js/SignUpLogin.js"></script>
<script src="~/js/EditProfile.js"></script>
<link rel="stylesheet" href="~/css/Streams.css" />

@if (Model.UserProfile.ProfileType == "tutor")
{
    { Layout = "_LayoutTutorNavbar"; }
}
else
{
    { Layout = "_LayoutStudentNavbar"; }
}

@*
@if (!Model.IsSubscribed())
{
    <script>window.location.href = '/Home/Subscribe';</script>
}
*@

<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-12 p-0">
            <div>
                <iframe src="//iframe.dacast.com/b/135034/f/@Model.ArchivedStream.StreamID" width="100%" height="700px" frameborder="0" scrolling="no" allow="autoplay" allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe>
                <h2 class="text-center mt-3" style="font-family:'Roboto Slab', serif;">@Model.ArchivedStream.StreamTitle</h2>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="card text-center mt-5 border-0" style="color:white;">
        <div class="card-body" style="background-color:whitesmoke; border-top-right-radius:5px; border-top-left-radius:5px; ">
            <img src=@Model.TutorUserProfile.ProfilePicture style="width:115px; height: 150px; border-radius:5%; cursor:pointer" onclick="window.location.href='/Home/ProfileView?Tutor=' + ('@Model.TutorUserProfile.Username');" />
            <br />
            @if (Model.IsUserFollowingThisTutor == false && Model.UserProfile != null && Model.UserProfile.ProfileType == "student")
            {
                <button id="FollowButton" type="button" style="font-size:12px; background-color:#007070; color:white" class="btn mt-3" onclick="FollowStreamTutor('@Model.UserChannel.Id')">Follow</button>
                <button id="UnfollowButton" type="button" style="font-size:12px; background-color:#007070; display:none; color:white" class="btn mt-3" onclick="UnfollowStreamTutor('@Model.UserChannel.Id')">Unfollow</button>
            }
            else if (Model.IsUserFollowingThisTutor == true && Model.UserProfile != null && Model.UserProfile.ProfileType == "student")
            {
                <button id="FollowButton" type="button" style="font-size:12px;display:none; background-color:#007070; color:white" class="btn mt-3" onclick="FollowStreamTutor('@Model.UserChannel.Id')">Follow</button>
                <button id="UnfollowButton" type="button" style="font-size:12px; background-color:#007070; color:white" class="btn mt-3" onclick="UnfollowStreamTutor('@Model.UserChannel.Id')">Unfollow</button>
            }
            <h1 class="card-title mt-4" style="font-size:24px; color:black; font-family:'Roboto Slab', serif;"><b>@Model.TutorUserProfile.Name.Replace('|', ' ')</b></h1>
            <p class="card-text" style="font-size:16px; color:black">@Model.TutorUserProfile.ProfileCaption</p>
            <p class="card-text" style="font-size:14px; color:black">@Model.TutorUserProfile.ProfileParagraph</p>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-4 col-sm-12 pr-lg-0 pr-md-0">
                <div class="card-body" style="background-color:whitesmoke; border-bottom-left-radius:5px">
                    <h5 style="color:black">Streams</h5>
                    <h4 style="color:black">@Model.NumberOfStreams</h4>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12 p-lg-0 p-md-0">
                <div class="card-body" style="background-color:whitesmoke;border-top-left-radius:0px ">
                      <button class="uploadbtn" style="font-family:'Roboto Slab', serif; cursor: pointer; display:block; margin-left:auto; margin-right:auto; height:68px; width:100%;" onclick="window.location.href='/Home/Donate?tutor=@Model.UserChannel.Username'" onmouseover="">Donate</button>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-12 pl-lg-0 pl-md-0">
                <div class="card-body" style="background-color:whitesmoke; border-bottom-right-radius:5px ">
                    <h5 style="color:black">Total Views</h5>
                    <h4 style="color:black">0</h4>
                </div>
               
            </div>
        </div>
    </div>
</div>
    
<script>$(document).ready(function () {
        $("#nav").click(function () {
            $("#navbarText").slideToggle();
        });
    });</script>