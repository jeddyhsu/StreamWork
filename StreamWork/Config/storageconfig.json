{
  "EntityModels": [
    {
      "Name": "UserLogin",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[UserLogin]",
          "QueryId": "GetAllUsers"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE Username = '@x0'",
          "QueryId": "GetUserWithUsername"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE EmailAddress = '@x0'",
          "QueryId": "GetUserWithEmailAddress"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE PayPalAddress = '@x0'",
          "QueryId": "GetUserWithPayPalAddress"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE Id = '@x0'",
          "QueryId": "GetUserUsingId"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE Username = '@x0' AND Password = '@x1'",
          "QueryId": "GetUserWithUsernameAndPassword"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE ProfileType = 'tutor' AND AcceptedTutor = '1'",
          "QueryId": "GetAllApprovedTutors"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE ProfileType = 'tutor' AND AcceptedTutor = '1'",
          "QueryId": "GetApprovedTutorsByFollowers"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE ProfileType = 'student'",
          "QueryId": "GetAllStudents"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE Id in ('@x0')",
          "QueryId": "GetAllUsersInTheList"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserLogin] WHERE Id not in ('@x0') AND ProfileType = 'tutor' AND AcceptedTutor = '1'",
          "QueryId": "GetAllTutorsNotInTheList"
        }
      ]
    },
    {
      "Name": "UserChannel",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE StreamSubject = '@x0'",
          "QueryId": "GetUserChannelWithSubject"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE StreamSubject != '@x0'",
          "QueryId": "GetAllUserChannelsThatAreStreaming"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE Username = '@x0'",
          "QueryId": "GetUserChannelWithUsername"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE Id = '@x0'",
          "QueryId": "GetUserChannelWithId"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE LOWER(StreamTitle) LIKE '%@x0%'",
          "QueryId": "GetUserChannelsBySearchTerm"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserChannel] WHERE StreamSubject = '@x0' AND LOWER(StreamTitle) LIKE '%@x1%'",
          "QueryId": "GetUserChannelsBySubjectAndSearchTerm"
        },
      ]
    },

    {
      "Name": "UserArchivedStreams",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams]",
          "QueryId": "GetAllArchivedStreams"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE Id = '@x0'",
          "QueryId": "GetArchivedStreamsWithId"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE Username = '@x0'",
          "QueryId": "GetArchivedStreamsWithUsername"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE StreamSubject = '@x0'",
          "QueryId": "GetArchivedStreamsWithSubject"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE StreamId = '@x0'",
          "QueryId": "GetArchivedStreamsWithStreamId"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE LOWER(StreamTitle) LIKE '%@x0%'",
          "QueryId": "GetArchivedStreamsWithSearchTerm"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE StreamSubject = '@x0' AND LOWER(StreamTitle) LIKE '%@x1%'",
          "QueryId": "GetArchivedStreamsWithSubjectAndSearchTerm"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE StreamId in ('@x0')",
          "QueryId": "GetArchivedStreamsByStreamIdInTheList"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] WHERE Username = ('@x0') ORDER BY StartTime DESC",
          "QueryId": "GetLatestArchivedStreamByUser"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] ORDER BY StartTime DESC",
          "QueryId": "GetArchivedStreamsInDescendingOrderByDate"
        },
        {
          "Query": "SELECT * FROM [dbo].[UserArchivedStreams] ORDER BY Views DESC",
          "QueryId": "GetArchivedStreamsInDescendingOrderByViews"
        }
      ]
    },

    {
        "Name": "Payment",
        "StorageType": "SqlServer",
        "Queries": [
            {
                "Query": "SELECT * FROM [dbo].[Payment]",
                "QueryId": "GetAllPayments"
            },

            {
                "Query": "SELECT * FROM [dbo].[Payment] WHERE TransactionId = '@x0'",
                "QueryId": "GetPaymentsById"
            }
        ]
    },

    {
      "Name": "Recommendation",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[Recommendation] WHERE Tutor = '@x0'",
          "QueryId": "GetRecommendationsWithTutorUsername"
        }
      ]
    },

    {
      "Name": "View",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[View] WHERE Viewer = '@x0'",
          "QueryId": "GetViewsWithViewer"
        },
        {
          "Query": "SELECT * FROM [dbo].[View] WHERE StreamId = '@x0'",
          "QueryId": "GetViewsWithStreamId"
        },
        {
          "Query": "SELECT * FROM [dbo].[View] WHERE Viewer = '@x0' AND StreamId = '@x1'",
          "QueryId": "GetViewsWithViewerAndStreamId"
        },
        {
          "Query": "SELECT * FROM [dbo].[View] WHERE Channel = '@x0' AND Date <= '@x1'",
          "QueryId": "GetViewsWithChannelSince"
        },
        {
          "Query": "SELECT * FROM [dbo].[View] WHERE Viewer = '@x0' AND Channel = '@x1' AND Date <= '@x2'",
          "QueryId": "GetViewsWithViewerAndChannelSince"
        }
      ]
    },

    {
      "Name": "Chats",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[Chats]",
          "QueryId": "GetAllChats"
        },
        {
          "Query": "SELECT * FROM [dbo].[Chats] WHERE ChatId = '@x0' ORDER BY DATE ASC",
          "QueryId": "GetAllChatsWithId"
        },
        {
          "Query": "DELETE FROM [dbo].[Chats] WHERE ChatId = '@x0'",
          "QueryId": "DeleteAllChatsWithId"
        }
      ]
    },

    {
      "Name": "Follow",
      "StorageType": "SqlServer",
      "Queries": [
        {
          "Query": "SELECT * FROM [dbo].[Follow] WHERE FollowerId = '@x0'",
          "QueryId": "GetAllFolloweesWithId"
        },
        {
          "Query": "SELECT * FROM [dbo].[Follow] WHERE FolloweeId = '@x0'",
          "QueryId": "GetAllFollowersWithId"
        },
        {
          "Query": "SELECT * FROM [dbo].[Follow] WHERE FollowerId = '@x0' AND FolloweeId = '@x1'",
          "QueryId": "GetFollowerAndFollowee"
        },
        {
          "Query": "SELECT * FROM [dbo].[Follow] WHERE FolloweeId = '@x0'",
          "QueryId": "GetNumberOfFollowers"
        },
        {
          "Query": "DELETE FROM [dbo].[Follow] WHERE FollowerId = '@x0' AND FolloweeId = '@x1'",
          "QueryId": "DeleteFollower"
        }
      ]
    }

  ]
}